1 . requirement.txt 생성 후 작성

i. django 5.0 이상 6.0.0미만
django>=5.0.1,<6.0.0

ii. django rest framework
djangorestframework>=3.14.0,<4.0.0

2 . DOCKER HUB 가입

   git repository -> settings -> action -> add new secret
   i. DOCKERHUB_USER -> docker username 입력
   ii. DOCKERHUB_TOKEN - > 발급받은 docker 토큰 입력

3 . requirements.dev.txt 생성 후 작성

flake8>=7.0.0,<8.0.0

4 . Dockerfile 생성

FROM python:3.11
LABEL maintainer = '당신의 도커 유저네임'

ENV PYTHONBUFFERED 1 ( 출력 변수를 확인하기 위함)

COPY ./requirements.txt /tmp/
COPY ./requirements.dev.txt /tmp/requirements.dev.txt
COPY ./app /app

WORKDIR /app
EXPOSE 8000

ARG DEV=false
RUN python -m venv .venv /py && \
    /py/bin/pip install --upgrade pip && \
    /py/bin/pip install -r /tmp/requirements.txt && \
    if [ $DEV = "true" ] ; \
        then echo "THIS IS DEVELOPMENT BUILD===" && \
        /py/bin/pip install -r /tmp/requirements.dev.txt ; \
    fi && \
    rm -rf /tmp && \
    adduser \
        --disabled-password \
        --no-create-home \
        django-user 

ENV PATH="/py/bin/:$PATH"

USER django-user